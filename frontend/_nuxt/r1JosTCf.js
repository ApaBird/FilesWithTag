import m from"./Kg6r4q0k.js";import{a as v}from"./Bq-ZmVJZ.js";import{j as p,r as x,o as g,v as r,L as s,x as c,z as f,M as y,N as w,O as C,t as i,y as k}from"./0omOhhPD.js";const b={class:"grid grid-cols-6 gap-4"},j={class:"flex w-[30px]"},F=c("p",null,"Назад",-1),N=["onClick"],B={class:"flex w-[30px]"},P=["title"],O={__name:"index",setup(V){const a=v(),l=p(()=>a.path),d=x({});async function _(){d.value=await $fetch("http://127.0.0.1:8050/OsTree").then(t=>t)}const h=p(()=>{if(d.value.content)return u([d.value],l.value)});function u(t,o){console.log(o);for(let e=0;e<t.length;e++){if(t[e].dir===o)return t[e].content;if(t[e].content.length>0){let n=u(t[e].content,o);if(n)return n}}}return g(async()=>{await _()}),(t,o)=>{const e=m;return i(),r("div",b,[s(l)!="C:/"?(i(),r("div",{key:0,class:"p-4 h-[40px] rounded-[8px] text-white flex justify-start items-center bg-[#1f1f1f] hover:cursor-pointer hover:bg-[#444746]",onClick:o[0]||(o[0]=n=>s(a).setPath(s(l).split("/").slice(0,-1).join("/")))},[c("div",j,[f(e,{name:"simple-line-icons:action-undo",style:{color:"white"}})]),F])):y("",!0),(i(!0),r(w,null,C(s(h),n=>(i(),r("div",{class:"h-[40px] rounded-[8px] text-white flex justify-start items-center bg-[#1f1f1f] hover:cursor-pointer hover:bg-[#444746] p-4",onClick:$=>s(a).setPath(n.dir)},[c("div",B,[f(e,{name:"simple-line-icons:folder-alt",style:{color:"white"}})]),c("p",{class:"truncate",title:n.name},k(n.name),9,P)],8,N))),256))])}}};export{O as default};
