import{j as p,r as m,t as l,v as i,L as s,N as $,O as I,x as e,y as b,Q as P,M as k,R as T,S as j,T as S,U as y,V as F,_ as N,z as g,W as V,X as z}from"./CE4qlkm1.js";import{a as v,f as B,i as _}from"./BPPg7b5u.js";import R from"./CWQe4z1K.js";const A={class:"flex"},K=["onClick"],M=e("p",null,"/",-1),D={__name:"UIPath",setup(C){const t=p(()=>v().path),a=m(!1),f=m(null),o=m(""),u=p(()=>{let r=t.value.split("/");return r.at(-1)==""&&r.pop(),r});function w(r){r==0?v().setPath(u.value.slice(0,r+1).join("/")+"/"):v().setPath(u.value.slice(0,r+1).join("/"))}function h(){a.value=!0,F(()=>{f.value.focus()}),o.value=t.value,t.value.at(-1)!="/"&&(o.value+="/")}return(r,n)=>(l(),i("div",{class:"flex w-full h-[30px] bg-[#1f1f1f] rounded-[8px] p-2 items-center text-white",onClick:h},[s(a)==!1?(l(!0),i($,{key:0},I(s(u),(c,x)=>(l(),i("div",A,[e("p",{class:"hover:bg-[#444746] rounded hover:cursor-pointer truncate",onClick:P(d=>w(x),["stop"])},b(c),9,K),M]))),256)):k("",!0),s(a)==!0?T((l(),i("input",{key:1,class:"flex items-center w-full h-[30px] mb-[1px] bg-[#1f1f1f] rounded-[8px] outline-none",ref_key:"inputRef",ref:f,onFocusout:n[0]||(n[0]=c=>a.value=!1),"onUpdate:modelValue":n[1]||(n[1]=c=>S(o)?o.value=c:null),onKeydown:[n[2]||(n[2]=y(c=>(a.value=!1,s(v)().setPath(c.target.value)),["enter"])),n[3]||(n[3]=y(c=>a.value=!1,["esc"]))]},null,544)),[[j,s(o)]]):k("",!0)]))}},L={class:"border-l border-[#444746] w-[500px] flex justify-start items-center p-4 text-white flex-col gap-2"},E={class:"w-full flex justify-end items-center"},O={class:"flex gap-4 items-center"},Q={class:"max-h-[calc(100vh-250px)]"},W={key:0,class:"animate-pulse h-[250px] w-[370px] bg-[#1F1F1F] rounded-xl"},X=["src"],q={class:"flex flex-col gap-4 w-full"},G={class:"grid grid-cols-2 gap-3"},H=["onClick"],J={class:"flex justify-between gap-4 px-2 items-center"},Y=["title"],Z={class:"flex flex-row w-full gap-3"},ee={__name:"UISidebar",setup(C){const t=m(""),a=B(),f=p(()=>v().path),o=p(()=>_().item),u=p(()=>_().loading);function w(n){_().deleteTag(f.value,n)}function h(){t.value&&(_().addTag(f.value,t.value),t.value="")}function r(){_().closeItem()}return(n,c)=>{const x=R;return l(),i("div",L,[e("div",E,[g(x,{name:"carbon:close",class:"text-white hover:cursor-pointer",onClick:r,size:"30px"})]),e("div",O,[e("p",null,b(s(o).Name??"No name"),1)]),e("div",Q,[s(u)?(l(),i("div",W)):(l(),i("img",{key:1,class:"w-full h-full object-cover rounded-xl",src:`data:image/jpg;base64, ${s(o).Content}`},null,8,X))]),e("div",q,[e("div",G,[(l(!0),i($,null,I(s(o).Tags,d=>(l(),i("div",{onClick:U=>s(a).addFilter(d),class:"bg-[#1f1f1f] rounded-[15px] h-[32px] hover:cursor-pointer hover:bg-[#444746]"},[e("div",J,[e("p",{class:"truncate flex items-center p-1 w-[140px]",title:d},b(d),9,Y),g(x,{name:"carbon:close-large",class:"text-white hover:cursor-pointer w-[22px]",size:"20px",title:"Удалить",onClick:P(U=>w(d),["stop"])},null,8,["onClick"])])],8,H))),256))]),e("div",Z,[T(e("input",{class:"bg-[#1f1f1f] rounded-[8px] px-2 py-1 text-white w-full",placeholder:"Tagname","onUpdate:modelValue":c[0]||(c[0]=d=>S(t)?t.value=d:null),onKeyup:y(h,["enter"])},null,544),[[j,s(t)]]),e("div",{onClick:h,class:"rounded-[8px] w-[32px] flex h-[32px] bg-[#1f1f1f] justify-center items-center hover:cursor-pointer hover:bg-[#444746]"},[g(x,{name:"carbon:add",class:"text-white",size:"24px"})])])])])}}},te=N(ee,[["__scopeId","data-v-c1be3a79"]]),se={class:"flex bg-[#131314] w-full"},oe={class:"h-screen p-4 flex flex-col gap-4 w-full"},re={__name:"default",setup(C){p(()=>v().path);const t=p(()=>_().item.Content);return(a,f)=>{const o=D,u=te;return l(),i("div",se,[e("div",oe,[g(o),V(a.$slots,"default")]),s(t)?(l(),z(u,{key:0})):k("",!0)])}}};export{re as default};
