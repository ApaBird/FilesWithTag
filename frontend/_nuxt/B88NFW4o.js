import y from"./CuUfwAnD.js";import{f as d,a as C,i as b}from"./luTDhR-4.js";import{j as m,t as n,v as o,N as _,O as v,x as t,y as p,z as g,L as w,r as x,o as k,G as j}from"./Bxlqr3EE.js";const I={class:"flex w-full gap-3 max-h-[30px]"},N={class:"flex bg-[#1f1f1f] rounded-[8px] h-[32px] gap-3 p-2 text-white justify-between items-center"},P=["title"],L={class:"min-w-[18px] max-w-[18px] h-[18px] flex items-center justify-center"},S={__name:"UIFilters",setup(F){const u=m(()=>d().filters);function c(i){d().removeFilter(i)}return(i,f)=>{const s=y;return n(),o("div",I,[(n(!0),o(_,null,v(w(u),l=>(n(),o("div",null,[t("div",N,[t("div",{class:"truncate",title:l},p(l)+" "+p(l.length),9,P),t("div",L,[g(s,{name:"carbon:close-large",class:"text-white text-[18px] hover:cursor-pointer hover:bg-rose-800",onClick:e=>c(l)},null,8,["onClick"])])])]))),256))])}}},B={class:"flex flex-col gap-3 max-h-[calc(100vh-130px)]"},O={class:"flex max-h-[360px] xl:max-w-[400px] sm:max-w-[200px] flex flex-col gap-1"},T={class:"xl:max-w-[400px] min-w-[300px] max-h-[360px] min-h-[330px] sm:max-w-[240px] border border-[#444746] rounded-xl"},A=["src","onClick"],E={class:"flex justify-center items-center w-full"},H={class:"h-[30px] text-white truncate"},z={__name:"pictures",setup(F){const u=C(),c=m(()=>u.path),i=b();function f(a){i.setItem(a)}const s=x(null),l=x(0);k(()=>{s.value.addEventListener("scroll",()=>{if(Math.floor(s.value.scrollHeight-s.value.scrollTop-s.value.clientHeight)<=1){if(e.value.length==l.value)return;l.value=e.value.length,$fetch(`http://127.0.0.1:8050/Files?Count=20&Offset=${e.value.length}&Path=${c.value}&Ftype=Image`).then(a=>{a.Files&&(e.value=[...e.value,...a.Files])})}})});const e=x([]);return j(()=>c.value,async a=>{e.value=[],$fetch(`http://127.0.0.1:8050/Files?Count=20&Offset=0&Path=${a}&Ftype=Image`).then(h=>{e.value=h.Files})},{immediate:!0}),(a,h)=>{const $=S;return n(),o("div",B,[g($),t("div",{ref_key:"itemsRef",ref:s,class:"mx-auto flex gap-4 flex-wrap overflow-y-auto scrollbar max-h-[calc(100%-100px)]"},[(n(!0),o(_,null,v(w(e),r=>(n(),o("div",O,[t("div",T,[t("img",{class:"w-full h-full object-cover rounded-xl",src:`data:image/jpg;base64, ${r.Content}`,onClick:M=>f({Content:r.Content,Name:r.Name,Tags:r.Tags})},null,8,A)]),t("div",E,[t("p",H,p(r.Name),1)])]))),256))],512)])}}};export{z as default};
